0 silly input [ 'publish' ]
1 silly flags { _: [ 'publish' ],
1 silly flags   'reject-cycles': false,
1 silly flags   rejectCycles: false,
1 silly flags   'npm-tag': 'beta',
1 silly flags   npmTag: 'beta',
1 silly flags   canary: 'beta',
1 silly flags   c: 'beta',
1 silly flags   ignore: '@wxa/form' }
2 verbose rootPath /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa
3 info version 2.9.0
4 silly isInitialized
5 silly isInitialized true
6 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/VERSION
7 info versioning independent
8 info ignore @wxa/form
9 silly initialize attempt
10 info canary enabled
11 silly getUpdates
12 info Checking for updated packages...
13 silly hasTags
14 verbose hasTags true
15 silly getCurrentSHA
16 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
17 info Comparing with 5b33a7a3^..5b33a7a3.
18 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/watch-wxa-plugin
19 silly diff
20 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-cli
21 silly diff packages/wxa-cli/src/compile-config.js
21 silly diff packages/wxa-cli/src/compile-script.js
21 silly diff packages/wxa-cli/src/compiler.js
21 silly diff packages/wxa-cli/src/helpers/logger.js
22 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-compiler-babel
23 silly diff
24 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-compiler-sass
25 silly diff
26 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-compiler-stylus
27 silly diff
28 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-core
29 silly diff
30 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-plugin-postcss
31 silly diff
32 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-plugin-replace
33 silly diff
34 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-plugin-uglifyjs
35 silly diff
36 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-redux
37 silly diff
38 silly diffSinceIn 5b33a7a3^..5b33a7a3 packages/wxa-template-base
39 silly diff
40 verbose updated @wxa/cli
41 info Checking for prereleased packages...
42 verbose prereleased @wxa/compiler-babel
43 silly collectDependents
44 silly isPackageDependentOf @wxa/watch @wxa/cli
45 silly isPackageDependentOf @wxa/watch @wxa/compiler-babel
46 silly isPackageDependentOf @wxa/cli @wxa/cli
47 silly isPackageDependentOf @wxa/cli @wxa/compiler-babel
48 silly isPackageDependentOf @wxa/compiler-babel @wxa/cli
49 silly isPackageDependentOf @wxa/compiler-babel @wxa/compiler-babel
50 silly isPackageDependentOf @wxa/compiler-sass @wxa/cli
51 silly isPackageDependentOf @wxa/compiler-sass @wxa/compiler-babel
52 silly isPackageDependentOf @wxa/compiler-stylus @wxa/cli
53 silly isPackageDependentOf @wxa/compiler-stylus @wxa/compiler-babel
54 silly isPackageDependentOf @wxa/core @wxa/cli
55 silly isPackageDependentOf @wxa/core @wxa/compiler-babel
56 silly isPackageDependentOf @wxa/plugin-postcss @wxa/cli
57 silly isPackageDependentOf @wxa/plugin-postcss @wxa/compiler-babel
58 silly isPackageDependentOf @wxa/plugin-replace @wxa/cli
59 silly isPackageDependentOf @wxa/plugin-replace @wxa/compiler-babel
60 silly isPackageDependentOf @wxa/plugin-uglifyjs @wxa/cli
61 silly isPackageDependentOf @wxa/plugin-uglifyjs @wxa/compiler-babel
62 silly isPackageDependentOf @wxa/redux @wxa/cli
63 silly isPackageDependentOf @wxa/redux @wxa/compiler-babel
64 silly isPackageDependentOf @wxa/template-base @wxa/cli
65 silly isPackageDependentOf @wxa/compiler-sass @wxa/cli
66 silly isPackageDependentOf @wxa/plugin-replace @wxa/cli
67 silly isPackageDependentOf @wxa/plugin-uglifyjs @wxa/cli
68 silly isPackageDependentOf @wxa/core @wxa/cli
69 silly isPackageDependentOf @wxa/template-base @wxa/compiler-babel
70 silly isPackageDependentOf @wxa/compiler-sass @wxa/compiler-babel
71 silly isPackageDependentOf @wxa/plugin-replace @wxa/compiler-babel
72 silly isPackageDependentOf @wxa/plugin-uglifyjs @wxa/compiler-babel
73 silly isPackageDependentOf @wxa/core @wxa/compiler-babel
74 silly collectUpdates
75 verbose has filtered update @wxa/watch
76 verbose has filtered update @wxa/cli
77 verbose has filtered update @wxa/compiler-babel
78 verbose has filtered update @wxa/compiler-sass
79 verbose has filtered update @wxa/compiler-stylus
80 verbose has filtered update @wxa/core
81 verbose has filtered update @wxa/plugin-postcss
82 verbose has filtered update @wxa/plugin-replace
83 verbose has filtered update @wxa/plugin-uglifyjs
84 verbose has filtered update @wxa/redux
85 verbose has filtered update @wxa/template-base
86 silly getCurrentSHA
87 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
88 silly getCurrentSHA
89 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
90 silly getCurrentSHA
91 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
92 silly getCurrentSHA
93 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
94 silly getCurrentSHA
95 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
96 silly getCurrentSHA
97 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
98 silly getCurrentSHA
99 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
100 silly getCurrentSHA
101 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
102 silly getCurrentSHA
103 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
104 silly getCurrentSHA
105 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
106 silly getCurrentSHA
107 verbose getCurrentSHA 5b33a7a318a996e510351a2a941219c63ce1a234
108 silly initialize success
109 silly execute attempt
110 silly runScriptSync preversion wxa
111 silly runScriptSync preversion @wxa/watch
112 silly runScriptSync version @wxa/watch
113 silly runScriptSync preversion @wxa/cli
114 silly runScriptSync version @wxa/cli
115 silly runScriptSync preversion @wxa/compiler-babel
116 silly runScriptSync version @wxa/compiler-babel
117 silly runScriptSync preversion @wxa/compiler-sass
118 silly runScriptSync version @wxa/compiler-sass
119 silly runScriptSync preversion @wxa/compiler-stylus
120 silly runScriptSync version @wxa/compiler-stylus
121 silly runScriptSync preversion @wxa/core
122 silly runScriptSync version @wxa/core
123 silly runScriptSync preversion @wxa/plugin-postcss
124 silly runScriptSync version @wxa/plugin-postcss
125 silly runScriptSync preversion @wxa/plugin-replace
126 silly runScriptSync version @wxa/plugin-replace
127 silly runScriptSync preversion @wxa/plugin-uglifyjs
128 silly runScriptSync version @wxa/plugin-uglifyjs
129 silly runScriptSync preversion @wxa/redux
130 silly runScriptSync version @wxa/redux
131 silly runScriptSync preversion @wxa/template-base
132 silly runScriptSync version @wxa/template-base
133 silly runScriptSync version wxa
134 info publish Publishing packages to npm...
135 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin/scripts/prepublish.js
136 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin/scripts/prepublish.js
137 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-cli/scripts/prepublish.js
138 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-cli/scripts/prepublish.js
139 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel/scripts/prepublish.js
140 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel/scripts/prepublish.js
141 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass/scripts/prepublish.js
142 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass/scripts/prepublish.js
143 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-stylus/scripts/prepublish.js
144 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-stylus/scripts/prepublish.js
145 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-core/scripts/prepublish.js
146 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-core/scripts/prepublish.js
147 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-postcss/scripts/prepublish.js
148 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-postcss/scripts/prepublish.js
149 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-replace/scripts/prepublish.js
150 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-replace/scripts/prepublish.js
151 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-uglifyjs/scripts/prepublish.js
152 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-plugin-uglifyjs/scripts/prepublish.js
153 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-redux/scripts/prepublish.js
154 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-redux/scripts/prepublish.js
155 silly existsSync /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-template-base/scripts/prepublish.js
156 verbose execScript No prepublish script found at /Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-template-base/scripts/prepublish.js
157 verbose publishing @wxa/watch
158 silly publishTaggedInDir beta watch-wxa-plugin
159 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin' }
160 verbose publishing @wxa/cli
161 silly publishTaggedInDir beta wxa-cli
162 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-cli' }
163 verbose publishing @wxa/compiler-babel
164 silly publishTaggedInDir beta wxa-compiler-babel
165 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel' }
166 verbose publishing @wxa/compiler-sass
167 silly publishTaggedInDir beta wxa-compiler-sass
168 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass' }
169 error publish Retrying failed publish: @wxa/compiler-babel
170 verbose publish error undefined
171 verbose publishing @wxa/compiler-babel
172 silly publishTaggedInDir beta wxa-compiler-babel
173 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel' }
174 error publish Retrying failed publish: @wxa/compiler-sass
175 verbose publish error undefined
176 verbose publishing @wxa/compiler-sass
177 silly publishTaggedInDir beta wxa-compiler-sass
178 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass' }
179 error publish Retrying failed publish: @wxa/watch
180 verbose publish error undefined
181 verbose publishing @wxa/watch
182 silly publishTaggedInDir beta watch-wxa-plugin
183 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin' }
184 error publish Retrying failed publish: @wxa/compiler-babel
185 verbose publish error undefined
186 verbose publishing @wxa/compiler-babel
187 silly publishTaggedInDir beta wxa-compiler-babel
188 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel' }
189 error publish Retrying failed publish: @wxa/compiler-sass
190 verbose publish error undefined
191 verbose publishing @wxa/compiler-sass
192 silly publishTaggedInDir beta wxa-compiler-sass
193 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass' }
194 error publish Retrying failed publish: @wxa/cli
195 verbose publish error undefined
196 verbose publishing @wxa/cli
197 silly publishTaggedInDir beta wxa-cli
198 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-cli' }
199 error publish Retrying failed publish: @wxa/compiler-babel
200 verbose publish error undefined
201 verbose publishing @wxa/compiler-babel
202 silly publishTaggedInDir beta wxa-compiler-babel
203 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel' }
204 error publish Retrying failed publish: @wxa/compiler-sass
205 verbose publish error undefined
206 verbose publishing @wxa/compiler-sass
207 silly publishTaggedInDir beta wxa-compiler-sass
208 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass' }
209 error publish Retrying failed publish: @wxa/watch
210 verbose publish error undefined
211 verbose publishing @wxa/watch
212 silly publishTaggedInDir beta watch-wxa-plugin
213 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin' }
214 error publish Retrying failed publish: @wxa/compiler-babel
215 verbose publish error undefined
216 verbose publishing @wxa/compiler-babel
217 silly publishTaggedInDir beta wxa-compiler-babel
218 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-babel' }
219 error publish Retrying failed publish: @wxa/compiler-sass
220 verbose publish error undefined
221 verbose publishing @wxa/compiler-sass
222 silly publishTaggedInDir beta wxa-compiler-sass
223 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-compiler-sass' }
224 error publish Retrying failed publish: @wxa/cli
225 verbose publish error undefined
226 verbose publishing @wxa/cli
227 silly publishTaggedInDir beta wxa-cli
228 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/wxa-cli' }
229 error publish Retrying failed publish: @wxa/watch
230 verbose publish error undefined
231 verbose publishing @wxa/watch
232 silly publishTaggedInDir beta watch-wxa-plugin
233 silly getExecOpts { cwd: '/Users/wenzetian/Documents/web/webank/miniprogram/wxa/wxa/packages/watch-wxa-plugin' }
234 error publish Ran out of retries while publishing @wxa/compiler-sass Error: Command failed: npm publish --tag beta
234 error publish npm WARN notice Due to a recent security incident, all user tokens have been invalidated. Please see https://status.npmjs.org/incidents/dn7c1fgrr7ng for more details. To generate a new token, visit https://www.npmjs.com/settings/~/tokens or run "npm login".
234 error publish npm ERR! publish Failed PUT 401
234 error publish npm ERR! code E401
234 error publish npm ERR! 404 You must be logged in to publish packages. : @wxa/compiler-sass
234 error publish npm ERR! 404
234 error publish npm ERR! 404  '@wxa/compiler-sass' is not in the npm registry.
234 error publish npm ERR! 404 You should bug the author to publish it (or use the name yourself!)
234 error publish npm ERR! 404
234 error publish npm ERR! 404 Note that you can also install from a
234 error publish npm ERR! 404 tarball, folder, http url, or git url.
234 error publish
234 error publish npm ERR! A complete log of this run can be found in:
234 error publish npm ERR!     /Users/wenzetian/.npm/_logs/2018-07-18T07_45_32_225Z-debug.log
234 error publish
234 error publish     at Promise.all.then.arr (/usr/local/lib/node_modules/lerna/node_modules/execa/index.js:236:11)
234 error publish     at <anonymous>
234 error publish     at process._tickCallback (internal/process/next_tick.js:160:7)
235 error execute callback with error
236 error Error: Command failed: npm publish --tag beta
236 error npm WARN notice Due to a recent security incident, all user tokens have been invalidated. Please see https://status.npmjs.org/incidents/dn7c1fgrr7ng for more details. To generate a new token, visit https://www.npmjs.com/settings/~/tokens or run "npm login".
236 error npm ERR! publish Failed PUT 401
236 error npm ERR! code E401
236 error npm ERR! 404 You must be logged in to publish packages. : @wxa/compiler-sass
236 error npm ERR! 404
236 error npm ERR! 404  '@wxa/compiler-sass' is not in the npm registry.
236 error npm ERR! 404 You should bug the author to publish it (or use the name yourself!)
236 error npm ERR! 404
236 error npm ERR! 404 Note that you can also install from a
236 error npm ERR! 404 tarball, folder, http url, or git url.
236 error
236 error npm ERR! A complete log of this run can be found in:
236 error npm ERR!     /Users/wenzetian/.npm/_logs/2018-07-18T07_45_32_225Z-debug.log
236 error
236 error     at Promise.all.then.arr (/usr/local/lib/node_modules/lerna/node_modules/execa/index.js:236:11)
236 error     at <anonymous>
